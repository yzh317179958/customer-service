# Fiido AI 客服系统 - 测试人员使用手册

> 版本: v1.0 | 更新日期: 2025-12-25

---

## 一、系统安全保障概述

Fiido AI 客服系统采用多层安全防护机制，确保系统稳定运行和数据安全：

**接口防护层**
- API 请求限流：每个客户端每分钟最多 60 次请求，每秒最多 10 次并发，超限返回 429 状态码
- 分布式限流：基于 Redis 实现，多实例部署时限流计数共享
- 客户端真实 IP 识别：支持 nginx 反向代理场景下的 X-Forwarded-For 解析

**账户安全层**
- 登录暴力破解防护：连续 5 次登录失败后锁定账户 15 分钟，自动解锁
- 密码安全：bcrypt 加密存储，强制要求 8 位以上且包含字母和数字
- JWT 双 Token 机制：访问 Token 1 小时有效，刷新 Token 7 天有效，支持无感续期

**IP 黑名单机制**
- 支持临时封禁（自动过期）和永久封禁
- 封禁信息包含原因和时间，可追溯审计

**数据安全**
- PostgreSQL 主存储 + Redis 缓存双写策略
- 敏感数据脱敏，密码哈希永不明文存储或传输

---

## 二、系统访问地址

| 功能 | 地址 |
|------|------|
| AI 客服聊天界面 | https://ai.fiido.com/chat-test/ |
| 人工坐席工作台 | https://ai.fiido.com/workbench/ |

---

## 三、AI 客服使用说明

### 3.1 打开聊天窗口

访问 https://ai.fiido.com/chat-test/ ，页面加载后显示欢迎界面。

### 3.2 快捷入口

欢迎界面提供 4 个快捷入口：

| 按钮 | 功能 | 说明 |
|------|------|------|
| Where's my package? | 订单查询 | 查询订单状态和物流轨迹 |
| Product help | 售前咨询 | 咨询产品规格、价格、推荐等 |
| Running into a little issue | 售后问题 | 报告产品故障、申请退换等 |
| Contact us | 联系客服 | 获取人工客服联系方式 |

### 3.3 订单查询流程

1. 点击 "Where's my package?" 或直接输入订单号（如 UK22080、DE10092）
2. 系统返回订单详情：商品信息、发货状态、物流轨迹
3. 点击商品卡片下方的 "Track Details" 展开物流时间线
4. 也可输入邮箱查询该邮箱下所有订单

### 3.4 转人工客服

当 AI 无法解答时，点击"转人工"按钮，系统将创建人工会话并提示等待。

---

## 四、人工坐席工作台使用说明

### 4.1 登录

1. 访问 https://ai.fiido.com/workbench/
2. 输入账号密码（测试账号请联系管理员获取）
3. 登录成功后进入工作台主界面

### 4.2 接待会话

**查看待接入队列**
- 左侧边栏显示 "待接入" 数量
- 点击进入待接入列表，按等待时间排序

**接管会话**
1. 点击待接入会话
2. 点击 "接管" 按钮
3. 会话进入 "我的会话" 列表

**发送消息**
- 在对话窗口底部输入框输入消息
- 支持文字、表情
- 可使用快捷回复（右侧面板）

**结束会话**
- 点击会话窗口顶部的 "结束会话" 按钮
- 会话关闭，客户端显示对话已结束

### 4.3 工单管理

**创建工单**
1. 在会话中点击 "创建工单"
2. 填写工单标题、优先级、描述
3. 提交后工单进入 "待处理" 队列

**处理工单**
1. 进入 "工单中心"
2. 查看工单详情、添加备注
3. 修改状态（处理中 → 已完成）

**SLA 监控**
- 工单列表显示剩余响应时间
- 超时工单高亮提醒

### 4.4 状态管理

坐席可切换自身状态：

| 状态 | 说明 |
|------|------|
| 在线 | 可接收新会话 |
| 忙碌 | 暂停接收新会话 |
| 小休 | 短暂离开 |
| 离线 | 下班/离开 |

---

## 五、AI 客服与人工坐席协作流程

```
客户访问 AI 客服
       ↓
   AI 自动回复
       ↓
  ┌────┴────┐
  ↓         ↓
问题解决   需要人工
  ↓         ↓
结束对话   客户请求转人工
            ↓
       创建人工会话
            ↓
       进入待接入队列
            ↓
       坐席接管会话
            ↓
       人工对话
            ↓
      ┌───┴───┐
      ↓       ↓
   直接解决  需要跟进
      ↓       ↓
   结束会话  创建工单
              ↓
           工单流转
              ↓
           问题闭环
```

---

## 六、常见测试场景

### 场景 1：订单查询
- 输入真实订单号（如 UK22080）
- 验证：显示订单详情、商品图片、物流状态
- 点击 Track Details 验证物流时间线

### 场景 2：产品咨询
- 输入"C11 Pro 续航多少公里"
- 验证：AI 返回产品规格信息

### 场景 3：转人工
- 输入"转人工"
- 验证：系统提示已转接，坐席工作台收到新会话

### 场景 4：坐席接待
- 坐席登录后接管会话
- 发送回复消息
- 验证：客户端实时收到消息

### 场景 5：工单创建
- 在会话中创建工单
- 验证：工单中心显示新工单

---

## 七、注意事项

1. **测试环境数据**：测试时使用的订单号需为真实 Shopify 订单，虚构订单号无法查询
2. **登录安全**：连续 5 次密码错误会锁定账户 15 分钟
3. **会话超时**：人工会话 30 分钟无响应会自动释放
4. **浏览器兼容**：建议使用 Chrome、Edge、Firefox 最新版本

---

## 八、问题反馈

如遇系统问题，请记录：
1. 问题发生时间
2. 操作步骤
3. 错误提示截图
4. 浏览器版本

联系技术支持：service@fiido.com
