# 坐席工作台 PRD

> 产品模块：products/agent_workbench
> 版本：v1.0
> 创建日期：2025-12-21

---

## 1. 产品概述

### 产品名称

Fiido Agent Workbench（坐席工作台）

### 目标用户

- 人工客服坐席
- 客服主管/团队管理员
- 运营质检人员

### 核心价值

为跨境电商品牌提供专业级人工客服工作台，实现 AI 客服转人工的无缝衔接，提升服务效率和客户满意度。对标头部厂商（Zendesk、Freshdesk、网易七鱼）的坐席工作台能力。

### 产品定位

- 作为 `products/ai_chatbot` 的人工接待补充
- 接收 AI 客服无法处理的会话转接
- 提供完整的工单生命周期管理
- 支持多渠道客户服务

---

## 2. 功能列表

### 核心功能（P0）- 必须实现


| 模块           | 功能          | 说明                       | 后端状态    |
| -------------- | ------------- | -------------------------- | ----------- |
| **登录认证**   | 坐席登录/登出 | 邮箱+密码登录，JWT 鉴权    | ✅ 已有     |
|                | Token 刷新    | 自动续期，保持登录状态     | ✅ 已有     |
|                | 密码修改      | 安全密码变更               | ✅ 已有     |
| **会话工作台** | 会话队列      | 待接入会话列表，优先级排序 | ✅ 已有     |
|                | 会话接管      | 从 AI 接管会话             | ✅ 已有     |
|                | 实时对话      | 收发消息，SSE 推送         | ✅ 已有     |
|                | 会话转接      | 转给其他坐席               | ✅ 已有     |
|                | 会话释放      | 结束会话，归还队列         | ✅ 已有     |
|                | AI 辅助建议   | 智能回复推荐               | 🔶 前端Mock |
| **工单中心**   | 工单列表      | 列表/看板双视图            | ✅ 已有     |
|                | 工单创建      | 手动/会话转工单            | ✅ 已有     |
|                | 工单详情      | 查看/编辑工单              | ✅ 已有     |
|                | 工单分配      | 手动/自动分配              | ✅ 已有     |
|                | SLA 管理      | 超时告警，仪表盘           | ✅ 已有     |
|                | 工单评论      | 内部备注/沟通              | ✅ 已有     |
| **快捷回复**   | 话术库管理    | 个人/团队快捷回复          | ✅ 已有     |
| **客户信息**   | 客户档案      | 标签、订单、历史           | 🔶 部分     |
|                | Shopify 订单  | 订单查询集成               | ✅ 已有     |

### 扩展功能（P1）- 后续迭代


| 模块         | 功能       | 说明                        | 后端状态    |
| ------------ | ---------- | --------------------------- | ----------- |
| **效能报表** | 会话统计   | 今日/周/月数据              | 🔶 部分     |
|              | 满意度分析 | 服务评分分布                | ❌ 待开发   |
| **实时大屏** | 系统负载   | 并发、排队、坐席状态        | 🔶 部分     |
|              | 渠道流量   | 各渠道实时数据              | ❌ 待开发   |
| **智能质检** | AI 质检    | 会话合规检测                | ❌ 待开发   |
|              | 质检报告   | 评分、违规记录              | ❌ 待开发   |
| **知识库**   | 文档管理   | 知识文档上传/搜索           | ❌ 待开发   |
|              | AI 匹配    | 智能推荐相关文档            | ❌ 待开发   |
| **系统设置** | 个人配置   | 头像、昵称、状态            | ✅ 已有     |
|              | 通知设置   | 声音、弹窗配置              | ❌ 待开发   |
| **计费管理** | 用量统计   | iframe 嵌入 customer_portal | ❌ 独立产品 |

---

## 3. 用户故事

### 核心场景

1. **作为坐席**，我希望能够登录工作台，查看待处理的会话队列，快速接管客户对话。
2. **作为坐席**，我希望在对话时能看到客户的历史订单和标签，以便提供个性化服务。
3. **作为坐席**，我希望能够创建工单跟进复杂问题，并在 SLA 超时前收到提醒。
4. **作为坐席**，我希望使用快捷回复提高响应效率，同时获得 AI 智能建议。
5. **作为主管**，我希望查看团队的实时服务状态和效能报表，及时调配资源。

---

## 4. 成功标准

### 功能标准

- [ ]  坐席可完成登录/登出全流程
- [ ]  会话队列实时更新（SSE 推送）
- [ ]  会话接管/转接/释放功能正常
- [ ]  工单 CRUD 和 SLA 管理完整
- [ ]  快捷回复可正常使用
- [ ]  客户档案和订单信息可查看

### 性能标准

- [ ]  页面首屏加载 < 2s
- [ ]  消息发送响应 < 500ms
- [ ]  SSE 推送延迟 < 1s
- [ ]  支持 50+ 坐席并发

### 质量标准

- [ ]  无阻塞性 Bug
- [ ]  响应式布局适配（1280px+）
- [ ]  符合企业级安全要求（HTTPS、JWT、CORS）

---

## 5. 技术约束

### 前端约束

- 复用 `frontend_origin` 原型界面，保持 UI 设计不变
- React + TypeScript + Tailwind CSS
- 使用 Zustand 状态管理
- Axios 封装 API 调用
- 生产环境构建优化

### 后端约束

- 复用现有 `handlers/*.py` API 接口
- 遵循三层架构依赖规则
- 需对接 `services/session`、`services/ticket`、`services/shopify`

### 架构约束

- 前后端分离，API 通信
- JWT 鉴权，401 自动跳转登录
- SSE 实时推送会话/工单事件

---

## 6. 里程碑


| 阶段    | 内容                                            | 状态      |
| ------- | ----------------------------------------------- | --------- |
| Phase 1 | 前端工程化改造（Tailwind 本地化、Zustand 集成） | ✅ 已完成 |
| Phase 2 | 核心功能接入（登录、会话、工单）                | 🔄 进行中 |
| Phase 3 | 扩展功能实现（报表、质检、知识库）              | ⏳ 待开始 |
| Phase 4 | 生产环境部署与优化                              | ⏳ 待开始 |
